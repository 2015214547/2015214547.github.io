<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端http基础 | 永远的救赎者</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/images/avatar.jpg">
    <meta name="description" content="袁成成个人网站，用于博客、随笔、日记等记录">
    <link rel="preload" href="/assets/css/0.styles.6b7e16bd.css" as="style"><link rel="preload" href="/assets/js/app.a1d7c370.js" as="script"><link rel="preload" href="/assets/js/2.1f9a7b6f.js" as="script"><link rel="preload" href="/assets/js/24.896cb41c.js" as="script"><link rel="prefetch" href="/assets/js/10.a5f30559.js"><link rel="prefetch" href="/assets/js/11.4c8e17f3.js"><link rel="prefetch" href="/assets/js/12.f54f4b85.js"><link rel="prefetch" href="/assets/js/13.69a83aa3.js"><link rel="prefetch" href="/assets/js/14.7b202a48.js"><link rel="prefetch" href="/assets/js/15.66f44a74.js"><link rel="prefetch" href="/assets/js/16.2bfd3b0e.js"><link rel="prefetch" href="/assets/js/17.4ff9bc5b.js"><link rel="prefetch" href="/assets/js/18.4115135c.js"><link rel="prefetch" href="/assets/js/19.9e3b6b67.js"><link rel="prefetch" href="/assets/js/20.992792e1.js"><link rel="prefetch" href="/assets/js/21.98fb90ff.js"><link rel="prefetch" href="/assets/js/22.748562c4.js"><link rel="prefetch" href="/assets/js/23.efeb578e.js"><link rel="prefetch" href="/assets/js/25.60e1aa28.js"><link rel="prefetch" href="/assets/js/26.94ba1871.js"><link rel="prefetch" href="/assets/js/27.7b0fda93.js"><link rel="prefetch" href="/assets/js/28.cf251554.js"><link rel="prefetch" href="/assets/js/29.f7edfc96.js"><link rel="prefetch" href="/assets/js/3.5dbe7f6b.js"><link rel="prefetch" href="/assets/js/30.c62a70b6.js"><link rel="prefetch" href="/assets/js/31.f575cc4e.js"><link rel="prefetch" href="/assets/js/32.226f879e.js"><link rel="prefetch" href="/assets/js/33.3af50a26.js"><link rel="prefetch" href="/assets/js/34.74f1ca03.js"><link rel="prefetch" href="/assets/js/35.37eea87c.js"><link rel="prefetch" href="/assets/js/36.16f99ccb.js"><link rel="prefetch" href="/assets/js/37.50fd1611.js"><link rel="prefetch" href="/assets/js/38.db639c1e.js"><link rel="prefetch" href="/assets/js/39.1f32499c.js"><link rel="prefetch" href="/assets/js/4.d274abbb.js"><link rel="prefetch" href="/assets/js/5.f6e5574b.js"><link rel="prefetch" href="/assets/js/6.7a973348.js"><link rel="prefetch" href="/assets/js/7.c79ebe2b.js"><link rel="prefetch" href="/assets/js/8.9b3c4158.js"><link rel="prefetch" href="/assets/js/9.38ad223a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6b7e16bd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/avatar.jpg" alt="永远的救赎者" class="logo"> <span class="site-name can-hide">永远的救赎者</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/views/blog/" class="nav-link router-link-active">
  博客
</a></div><div class="nav-item"><a href="/views/diary/" class="nav-link">
  日记
</a></div><div class="nav-item"><a href="/views/essay/" class="nav-link">
  随笔
</a></div><div class="nav-item"><a href="/views/album/" class="nav-link">
  相册
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="作者相关" class="dropdown-title"><span class="title">作者相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/views/author/information.html" class="nav-link">
  今年目标
</a></li><li class="dropdown-item"><!----> <a href="/views/author/experience.html" class="nav-link">
  工作经历
</a></li><li class="dropdown-item"><!----> <a href="/views/author/songList.html" class="nav-link">
  我的歌单
</a></li><li class="dropdown-item"><!----> <a href="/views/author/dailyMessage7.html" class="nav-link">
  每日寄语
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/views/blog/" class="nav-link router-link-active">
  博客
</a></div><div class="nav-item"><a href="/views/diary/" class="nav-link">
  日记
</a></div><div class="nav-item"><a href="/views/essay/" class="nav-link">
  随笔
</a></div><div class="nav-item"><a href="/views/album/" class="nav-link">
  相册
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="作者相关" class="dropdown-title"><span class="title">作者相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/views/author/information.html" class="nav-link">
  今年目标
</a></li><li class="dropdown-item"><!----> <a href="/views/author/experience.html" class="nav-link">
  工作经历
</a></li><li class="dropdown-item"><!----> <a href="/views/author/songList.html" class="nav-link">
  我的歌单
</a></li><li class="dropdown-item"><!----> <a href="/views/author/dailyMessage7.html" class="nav-link">
  每日寄语
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>博客</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/views/blog/" aria-current="page" class="sidebar-link">博客介绍</a></li><li><a href="/views/blog/前端工具网站汇总.html" class="sidebar-link">前端工具网站汇总</a></li><li><a href="/views/blog/vsCode好用插件.html" class="sidebar-link">vsCode好用插件</a></li><li><a href="/views/blog/markdown语法及快捷键.html" class="sidebar-link">markdown语法及快捷键</a></li><li><a href="/views/blog/vuepress网站搭建全流程.html" class="sidebar-link">vuepress网站搭建全流程</a></li><li><a href="/views/blog/博客网站使用手册.html" class="sidebar-link">博客网站使用手册</a></li><li><a href="/views/blog/前端http基础.html" class="active sidebar-link">前端http基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/blog/前端http基础.html#关于tcp" class="sidebar-link">关于TCP</a></li><li class="sidebar-sub-header"><a href="/views/blog/前端http基础.html#http-1-0" class="sidebar-link">http/1.0</a></li><li class="sidebar-sub-header"><a href="/views/blog/前端http基础.html#http-1-1" class="sidebar-link">http/1.1</a></li><li class="sidebar-sub-header"><a href="/views/blog/前端http基础.html#http-2-0" class="sidebar-link">http/2.0</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/blog/前端http基础.html#二进制分帧层与多路复用" class="sidebar-link">二进制分帧层与多路复用</a></li><li class="sidebar-sub-header"><a href="/views/blog/前端http基础.html#首部压缩" class="sidebar-link">首部压缩</a></li><li class="sidebar-sub-header"><a href="/views/blog/前端http基础.html#服务器推送" class="sidebar-link">服务器推送</a></li></ul></li></ul></li><li><a href="/views/blog/token和session验证.html" class="sidebar-link">token和session验证</a></li><li><a href="/views/blog/vue项目工程构建.html" class="sidebar-link">vue项目工程构建</a></li><li><a href="/views/blog/vue生命周期.html" class="sidebar-link">vue生命周期</a></li><li><a href="/views/blog/vue管理系统从0到1.html" class="sidebar-link">vue管理系统从0到1</a></li><li><a href="/views/blog/axios跨域问题处理.html" class="sidebar-link">axios跨域问题处理</a></li><li><a href="/views/blog/前端开发常见问题.html" class="sidebar-link">前端开发常见问题</a></li><li><a href="/views/blog/echart绘制折线图.html" class="sidebar-link">echart绘制折线图</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="前端http基础"><a href="#前端http基础" class="header-anchor">#</a> 前端http基础</h1> <p>  HTTP建立之初主要是为了传输超文本标记语言文档（HTML），随时代发展进行了若干次演进。</p> <h2 id="关于tcp"><a href="#关于tcp" class="header-anchor">#</a> 关于TCP</h2> <p>  客户端和服务器端三次握手只为建立TCP连接，TCP连接是为后续的数据传输做准备</p> <blockquote><p>TCP：传输控制协议</p></blockquote> <h2 id="http-1-0"><a href="#http-1-0" class="header-anchor">#</a> http/1.0</h2> <p>  http1.0不会复用tcp链接，每次请求都会打开、断开一条链接。由于TCP是有延迟响应机制的，每次请求并不会马上返回，所以http1.0性能不好。</p> <h2 id="http-1-1"><a href="#http-1-1" class="header-anchor">#</a> http/1.1</h2> <p>  http1.1是当前最普及的版本，http1.1中TCP链接可以持久保持（即一段时间内，一个tcp链接会等到同一域名下的所有资源加载完之后再断开）</p> <p>  通过一条TCP链接请求资源时，只有上一个请求完成后，才能发出下一个请求。当使用<strong>http管道</strong>时，则可以并发发送多个请求。但是http1.1有严格的<strong>串行返回响应机制</strong>，即：请求时不用等上一个完成，但响应时必须严格按照顺序返回。</p> <p>  所以基于“HTTP管道”的特性，万一第一个响应时间很长，那么后面的响应处理完了也无法发送，只能被缓存起来，占用服务器内存，即：<strong>队首阻塞</strong></p> <div class="custom-block tip"><p class="custom-block-title">http1.1下优化方案</p> <ul><li><p><strong>合并css、js</strong>：</p> <ul><li>优点：减少http请求</li> <li>缺点：所有文件合并成大文件，无论哪个模块发生变化，用户都要整体重新更新，无法继续使用缓存；</li></ul></li> <li><p><strong>分域名</strong>：</p> <ul><li>优点：可以绕过浏览器对同一域名的最大管道限制，可以同时请求到更多内容。</li></ul></li> <li><p><strong>接口合并</strong>：</p> <ul><li>优点：将数据汇总到一个接口，可以减少http请求数量。</li> <li>缺点：违背了程序设计规范，会导致接口很难复用，维护成本很高。</li></ul></li></ul></div> <h2 id="http-2-0"><a href="#http-2-0" class="header-anchor">#</a> http/2.0</h2> <p>对前端的性能优化主要应该从两个方面：加载速度、流畅运行</p> <div class="custom-block tip"><p class="custom-block-title">http2.0引入以下机制、特性，进而达到加速效果：</p> <ul><li><p>二进制分帧层</p></li> <li><p>多路复用</p></li> <li><p>首部压缩</p></li> <li><p>服务器推进</p></li></ul></div> <h3 id="二进制分帧层与多路复用"><a href="#二进制分帧层与多路复用" class="header-anchor">#</a> 二进制分帧层与多路复用</h3> <blockquote><p>引入二进制分帧层，就不再是文本传输，而是数据帧传输（二进制）</p> <p><font color="red">注意：HTTP原本的语义、方法、动词、首部都不受影响，仅仅是传输期间的数据格式发生了变化</font></p></blockquote> <blockquote><p>http2.0规定了10种不同的帧，TCP 连接在客户端和服务器间建立了一条运输的通道，可以双向通行，当一端要向另一端发送消息时，会先把这个消息拆分成几部分（帧），然后通过发起一个流对这些帧进行发送，最后在另一端将同一个流的帧重新组合。</p></blockquote> <blockquote><p>帧会对数据进行顺序标识，这样浏览器收到数据之后，就可以按照序列对数据进行合并，而不会出现合并后数据错乱的情况。同样是因为有了序列，服务器就可以并行的传输数据，这就是流所做的事情。</p></blockquote> <blockquote><p>HTTP/2对同一域名下所有请求都是基于流，也就是说同一域名不管访问多少文件，也只建立一路连接。同样Apache的最大连接数为300，因为有了这个新特性，最大的并发就可以提升到300，比原来提升了6倍！</p></blockquote> <h3 id="首部压缩"><a href="#首部压缩" class="header-anchor">#</a> 首部压缩</h3> <blockquote><p>在服务器和客户端各维护一个“首部表”，表中用索引代表首部名，或者首部键 - 值对，上一次发送两端都会记住已发送过哪些首部，下一次发送只需要传输差异的数据，相同的数据直接用索引表示即可。首部压缩，可以解决http头臃肿的问题。</p></blockquote> <h3 id="服务器推送"><a href="#服务器推送" class="header-anchor">#</a> 服务器推送</h3> <blockquote><p>服务器可以对一个客户端请求发送多个响应。也就是说，除了对最初请求的响应外，服务器还可以额外向客户端推送资源。</p></blockquote></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新时间:</span> <span class="time">6/9/2020, 7:02:03 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/views/blog/博客网站使用手册.html" class="prev">
        博客网站使用手册
      </a></span> <span class="next"><a href="/views/blog/token和session验证.html">
        token和session验证
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a1d7c370.js" defer></script><script src="/assets/js/2.1f9a7b6f.js" defer></script><script src="/assets/js/24.896cb41c.js" defer></script>
  </body>
</html>
